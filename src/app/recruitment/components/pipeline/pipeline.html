<div class="pipeline">

  <h3>مسیر استخدامی</h3>

  <div class="columns">

    <div class="column" *ngFor="let s of stages; let i = index">

      <h4>{{ s }}</h4>

      <div class="app-card" 
           *ngFor="let a of applicants.filter(x => x.stage === i)">

        <h5>{{ a.name }}</h5>
        <p class="email">{{ a.email }}</p>

        <div class="skills">
          <span *ngFor="let sk of a.skills">{{ sk }}</span>
        </div>

        <div class="actions">

          <button *ngIf="i > 0 && i < 4"
                  (click)="previousStage(a)">⬅</button>

          <button *ngIf="i < 3"
                  (click)="nextStage(a)">➡</button>

          <button class="accept" *ngIf="i < 4" 
                  (click)="markAccepted(a)">
            ✔
          </button>

          <button class="reject" *ngIf="i < 5"
                  (click)="markRejected(a)">
            ✖
          </button>

        </div>

      </div>

    </div>

  </div>

</div>
