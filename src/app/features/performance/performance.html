<div class="performance">

  <h2>ارزیابی عملکرد کارکنان</h2>

  <div class="grid">

    <div class="card">
      <h3>فرم ارزیابی</h3>

      <div class="form-group" *ngFor="
          let field of [
            {label:'ارتباطات', key:'communication'},
            {label:'کار تیمی', key:'teamwork'},
            {label:'خلاقیت', key:'creativity'},
            {label:'دقت', key:'accuracy'},
            {label:'سرعت', key:'speed'},
            {label:'مسئولیت‌پذیری', key:'responsibility'},
            {label:'نظم', key:'discipline'}
          ]">

        <label>{{ field.label }}</label>
        <input type="range" min="1" max="5" [(ngModel)]="evaluation[field.key]">
        <span class="rate">{{ evaluation[field.key] }}</span>

      </div>

      <label>نظر مدیر</label>
      <textarea [(ngModel)]="evaluation.comment"></textarea>

      <button class="btn" (click)="save()">ثبت ارزیابی</button>

      <div class="average-box">
        <span>میانگین نهایی:</span>
        <strong>{{ average }}</strong>
      </div>

    </div>

    <div class="card full">
      <h3>تاریخچه ارزیابی‌ها</h3>

      <table>
        <thead>
          <tr>
            <th>تاریخ</th>
            <th>میانگین</th>
            <th>نظر مدیر</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let e of evaluations">
            <td>{{ e.date }}</td>
            <td>{{ e.average }}</td>
            <td>{{ e.comment || '-' }}</td>
          </tr>
        </tbody>
      </table>

    </div>

  </div>

</div>
