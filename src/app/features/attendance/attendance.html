<div class="attendance-wrapper">

  <h2 class="title">سیستم حضور و غیاب</h2>

  <!-- کارت وضعیت امروز -->
  <div class="today-card" [class]="getStatusClass(today.status)">
    <h3>حضور امروز</h3>

    <div class="row">
      <span>تاریخ:</span>
      <strong>{{ today.date }}</strong>
    </div>

    <div class="row">
      <span>ورود:</span>
      <strong>{{ today.enter }}</strong>
    </div>

    <div class="row">
      <span>خروج:</span>
      <strong>{{ today.exit }}</strong>
    </div>

    <div class="today-status">
      وضعیت:  
      <span [class]="getStatusClass(today.status)">
        {{
          today.status === 'on-time' ? 'بموقع' :
          today.status === 'late' ? 'تاخیر' :
          today.status === 'absent' ? 'غیبت' :
          'دورکاری'
        }}
      </span>
    </div>
  </div>

  <!-- جدول هفتگی -->
  <div class="table-box">
    <h3>حضور هفتگی</h3>

    <table>
      <thead>
        <tr>
          <th>روز</th>
          <th>ورود</th>
          <th>خروج</th>
          <th>تاخیر (دقیقه)</th>
          <th>اضافه‌کاری</th>
          <th>وضعیت</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let d of weekly" [class]="getStatusClass(d.status)">
          <td>{{ d.date }}</td>
          <td>{{ d.enter }}</td>
          <td>{{ d.exit }}</td>
          <td>{{ d.late }}</td>
          <td>{{ d.overtime }}</td>
          <td class="status-cell">
            <span [class]="getStatusClass(d.status)">
              {{
                d.status === 'on-time' ? 'بموقع' :
                d.status === 'late' ? 'تاخیر' :
                d.status === 'absent' ? 'غیبت' :
                'دورکاری'
              }}
            </span>
          </td>
        </tr>
      </tbody>
    </table>

  </div>

</div>
