<div class="payroll-wrapper">

  <h2>محاسبه حقوق و دستمزد</h2>

  <div class="grid">

    <div class="card">
      <h3>فرم اطلاعات حقوق</h3>

      <label>حقوق پایه (تومان)</label>
      <input type="number" [(ngModel)]="salary.base">

      <label>تعداد فرزند</label>
      <input type="number" [(ngModel)]="salary.childCount">

      <label>ساعات اضافه‌کاری</label>
      <input type="number" [(ngModel)]="salary.overtimeHours">

      <label>ساعات غیبت / کسری</label>
      <input type="number" [(ngModel)]="salary.absenceHours">

      <button class="btn" (click)="calculate()">محاسبه</button>
    </div>

    <div class="card" *ngIf="result">
      <h3>نتیجه حقوق ماه جاری</h3>

      <p><strong>حقوق پایه:</strong> {{ result.base | number }}</p>
      <p><strong>حق مسکن:</strong> {{ result.housing | number }}</p>
      <p><strong>حق اولاد:</strong> {{ result.child | number }}</p>
      <p><strong>بن کارگری:</strong> {{ result.benefit | number }}</p>

      <p class="plus"><strong>اضافه‌کاری:</strong> {{ result.overtime | number }}</p>
      <p class="minus"><strong>کسری کار:</strong> {{ result.absencePenalty | number }}</p>

      <p class="minus"><strong>بیمه:</strong> {{ result.insurance | number }}</p>
      <p class="minus"><strong>مالیات:</strong> {{ result.tax | number }}</p>

      <h2 class="final">
        جمع پرداختی: {{ result.total | number }} تومان
      </h2>

    </div>

  </div>

  <div class="card table-card">
    <h3>فیش‌های حقوقی صادر شده</h3>

    <table>
      <thead>
        <tr>
          <th>ماه</th>
          <th>حقوق پایه</th>
          <th>اضافه‌کاری</th>
          <th>مالیات</th>
          <th>بیمه</th>
          <th>پرداختی</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let p of payslips">
          <td>{{ p.month }}</td>
          <td>{{ p.base | number }}</td>
          <td class="plus">{{ p.overtime | number }}</td>
          <td class="minus">{{ p.tax | number }}</td>
          <td class="minus">{{ p.insurance | number }}</td>
          <td class="final">{{ p.total | number }}</td>
        </tr>
      </tbody>
    </table>

  </div>

</div>
