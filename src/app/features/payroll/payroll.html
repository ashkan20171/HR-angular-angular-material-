<div class="payroll-page">

  <h1>فیش‌های حقوقی</h1>

  <table class="pay-table">
    <thead>
      <tr>
        <th>ماه</th>
        <th>حقوق پایه</th>
        <th>جمع مزایا</th>
        <th>جمع کسورات</th>
        <th>حقوق نهایی</th>
        <th></th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let p of pay.payroll()">
        <td>{{ p.month }}</td>
        <td>{{ p.baseSalary | number }}</td>

        <td>{{ p.rows.filter(r => r.type==='plus').reduce((t,r)=>t+r.amount,0) | number }}</td>

        <td>{{ p.rows.filter(r => r.type==='minus').reduce((t,r)=>t+r.amount,0) | number }}</td>

        <td class="final">{{ p.finalSalary | number }}</td>

        <td>
          <button class="btn" (click)="openSlip(p.id)">مشاهده فیش</button>
        </td>
      </tr>
    </tbody>

  </table>

</div>
